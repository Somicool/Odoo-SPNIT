{
  "meta": {
    "project": "StockMaster Warehouse Inventory Management System",
    "date": "2025-11-19",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "StockMaster is a comprehensive warehouse inventory management system inspired by Odoo, designed to streamline stock management workflows including receipts, deliveries, move history tracking, and warehouse configuration. The system supports robust CRUD operations, status pipelines, and detailed reporting with an intuitive UI built with Next.js, React, and Supabase backend.",
  "core_goals": [
    "Provide an end-to-end warehouse and inventory management solution with full CRUD capabilities",
    "Ensure accurate stock tracking with real-time updates on receipts and deliveries",
    "Implement clear status pipelines for receipts and deliveries to reflect operational progress",
    "Enable detailed move history tracking for audit and traceability",
    "Offer configurable warehouse and location management to organize inventory effectively",
    "Support user authentication for secure access to system features",
    "Provide a dashboard summarizing key operational KPIs",
    "Maintain system stability with robust error handling and validation",
    "Ensure all navigation flows are intuitive and functional, supporting search and filter capabilities"
  ],
  "key_features": [
    "Dual authentication system supporting username/password login and OTP email verification with JWT tokens",
    "Dashboard displaying receipt and delivery statistics with key operational counts",
    "Comprehensive product management with full CRUD, including product listing, creation, update, deletion, and detailed views",
    "Warehouse management module for creating, editing, listing warehouses, and managing locations with foreign key relations",
    "Location management tied to warehouses with full CRUD and usage in dropdowns across the application",
    "Document management system handling receipts, deliveries, transfers, adjustments with validation workflows and pipeline status transitions",
    "Stock management displaying on-hand and free-to-use quantities with updates triggered by receipt and delivery validations",
    "Move history automatically generated and color-coded by inbound/outbound moves",
    "Robust search and filter functionality on all list views by references, contacts, products, warehouses, and locations",
    "Print functionality available only when documents are in Done status, delivering clean printable output per specifications",
    "UI components designed with Radix UI and Tailwind CSS and structured navigation via navbar and sidebar",
    "Auto-generation of reference IDs and status transitions to streamline workflow"
  ],
  "user_flow_summary": [
    "User logs in via manual credentials or OTP email authentication and lands on the dashboard",
    "User navigates through main modules: Dashboard, Operations, Products, Move History, Warehouses, Locations, Settings",
    "User accesses Warehouse or Location pages to manage inventory organization data via CRUD operations",
    "User manages product data with CRUD operations accessible from the Products page",
    "User creates and manages Receipts and Deliveries documents, adding product lines and advancing documents through status pipelines (Draft → Ready → Done for Receipts; Draft → Waiting → Ready → Done for Deliveries)",
    "System auto-validates stock availability and updates \"Free to Use\" stock accordingly, blocking delivery progress when stock is insufficient (Waiting state)",
    "Upon document completion (Done), stock levels update and move history entries are automatically created",
    "User reviews move history logs color-coded by movement type (IN/OUT) with detailed references",
    "User performs search and filtering on all lists with real-time responsive UI elements",
    "User prints documents only once in Done status in a clean printable layout",
    "User accesses settings for configuration and account management",
    "User signs up or recovers password through dedicated interfaces"
  ],
  "validation_criteria": [
    "All wireframe design elements exist and match specifications exactly",
    "Every button and interactive element performs its action as specified without errors",
    "CRUD operations for warehouses, locations, products, receipts, deliveries fully functional and persisting data correctly",
    "Navigation is consistent and routes open the appropriate detail or edit pages with no dead ends or static screens",
    "Status pipelines for Receipts and Deliveries behave correctly with proper transitions, validations, and restrictions",
    "Stock quantities accurately update upon receipt and delivery document state changes",
    "Move history logs are automatically populated on completed receipts and deliveries with correct color coding",
    "Search and filtering features work across all lists with responsiveness and accuracy",
    "Print functionality is restricted to documents in Done status and outputs correctly formatted print layouts",
    "No runtime errors appear in the console during normal system usage",
    "API responses handle failures gracefully with user-friendly error messaging",
    "System properly validates all form inputs using Zod schemas and safeguards data integrity",
    "All dropdowns, lists, and UI components operate without errors or broken states",
    "End-to-end, UI, and functional tests pass according to TestSprite automation standards"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14",
      "React 18",
      "Supabase",
      "Tailwind CSS",
      "React Query",
      "Zod",
      "Node.js",
      "PostgreSQL"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Dual authentication system supporting manual login (username/password) and OTP-based email authentication with JWT tokens",
        "files": [
          "app/login/page.tsx",
          "app/api/auth/send-otp/route.ts",
          "app/api/auth/verify-otp/route.ts",
          "app/api/auth/me/route.ts",
          "app/api/auth/signout/route.ts",
          "lib/auth-utils.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main dashboard page displaying receipt and delivery statistics with late, waiting, and operations counts",
        "files": [
          "app/dashboard/page.tsx",
          "app/api/dashboard/route.ts"
        ]
      },
      {
        "name": "Product Management",
        "description": "Complete product CRUD operations with listing, creation, update, deletion, and detail views",
        "files": [
          "app/products/page.tsx",
          "app/products/[id]/page.tsx",
          "app/products/create/page.tsx",
          "app/api/products/route.ts",
          "app/api/products/[id]/route.ts",
          "components/ProductForm.tsx",
          "server/productActions.ts",
          "lib/queries.ts"
        ]
      },
      {
        "name": "Warehouse Management",
        "description": "Warehouse creation and listing functionality with location management",
        "files": [
          "app/warehouses/page.tsx",
          "app/warehouses/create/page.tsx",
          "app/warehouses/locations/page.tsx",
          "app/api/warehouses/route.ts",
          "server/warehouseActions.ts"
        ]
      },
      {
        "name": "Location Management",
        "description": "Location creation and listing for warehouse organization",
        "files": [
          "app/locations/create/page.tsx",
          "app/api/locations/route.ts"
        ]
      },
      {
        "name": "Document Management",
        "description": "Document system supporting receipts, deliveries, transfers, and adjustments with validation workflow",
        "files": [
          "app/documents/receipts/page.tsx",
          "app/documents/receipts/create/page.tsx",
          "app/documents/deliveries/page.tsx",
          "app/documents/deliveries/create/page.tsx",
          "app/documents/transfers/page.tsx",
          "app/documents/transfers/create/page.tsx",
          "app/documents/adjustments/page.tsx",
          "app/documents/adjustments/create/page.tsx",
          "app/documents/[id]/page.tsx",
          "app/api/documents/route.ts",
          "app/api/documents/[id]/route.ts",
          "app/api/documents/[id]/validate/route.ts",
          "app/api/document-lines/route.ts",
          "app/api/document-lines/[id]/route.ts",
          "components/DocumentForm.tsx",
          "server/documentActions.ts"
        ]
      },
      {
        "name": "Stock Management",
        "description": "Stock tracking with on-hand and free-to-use quantities, stock balances, and ledger entries",
        "files": [
          "app/products/page.tsx",
          "app/ledger/page.tsx",
          "app/api/ledger/route.ts",
          "server/stockActions.ts"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable UI component library built with Radix UI and Tailwind CSS",
        "files": [
          "components/ui/button.tsx",
          "components/ui/card.tsx",
          "components/ui/input.tsx",
          "components/ui/label.tsx",
          "components/ui/table.tsx",
          "components/ui/data-table.tsx",
          "components/ui/badge.tsx",
          "components/ui/form-card.tsx",
          "components/ui/kpi-card.tsx",
          "components/ui/page-header.tsx",
          "components/ui/search-bar.tsx"
        ]
      },
      {
        "name": "Navigation Components",
        "description": "Main navigation components including navbar and sidebar for app navigation",
        "files": [
          "components/Navbar.tsx",
          "components/Sidebar.tsx"
        ]
      },
      {
        "name": "Data Fetching",
        "description": "React Query hooks and Supabase client for data fetching and caching",
        "files": [
          "lib/queries.ts",
          "lib/supabaseClient.ts"
        ]
      },
      {
        "name": "Form Validation",
        "description": "Zod-based validation schemas for form inputs and API requests",
        "files": [
          "utils/validations.ts"
        ]
      },
      {
        "name": "Server Utilities",
        "description": "Server-side helper functions for database operations and business logic",
        "files": [
          "utils/serverHelpers.ts",
          "lib/utils.ts"
        ]
      },
      {
        "name": "Layout and Providers",
        "description": "Root layout with React Query provider and global styling",
        "files": [
          "app/layout.tsx",
          "components/Providers.tsx",
          "styles/globals.css"
        ]
      },
      {
        "name": "Settings Page",
        "description": "Application settings and configuration page",
        "files": [
          "app/settings/page.tsx"
        ]
      },
      {
        "name": "Signup and Password Recovery",
        "description": "User registration and password recovery pages",
        "files": [
          "app/signup/page.tsx",
          "app/forgot-password/page.tsx"
        ]
      }
    ]
  }
}
